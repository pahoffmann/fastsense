<launch>
  #### Use this file with Lego-LOAM dataset
  <arg name="bag" />
  <arg name="args" default=""/>

  #### Automatically set sim time true
  <!--<param name="/use_sim_time" value="true"/>-->

  <include file="$(find bridge)/launch/bridge.launch">
    <arg name="board_addr" value="192.168.1.123"/>
    <arg name="timeout" value="10"/>
    <arg name="discard_timestamp" value="true"/>
  </include>

  <node pkg="bridge" type="to_trenz" name="to_trenz" output="screen">
    <remap from="/velodyne_points" to="/from_trenz/velodyne/points" />
    <remap from="/imu/data_raw" to="/from_trenz/imu/raw" />
  </node>
  
  <node pkg="rosbag" type="play" name="fastsense_player_imu" output="screen" args="$(arg bag) -r 3 --clock --topics /imu/data">
    <!-- <remap from="/velodyne_points" to="/from_trenz/velodyne/points"/> -->
    <!-- <remap from="/imu/data" to="/from_trenz/imu/raw"/> -->
  </node> 

  <node pkg="rosbag" type="play" name="fastsense_player_cloud" output="screen" args="$(arg bag) --clock --topics /velodyne_points">
    <remap from="/velodyne_points" to="/from_trenz/velodyne/points"/>
    <!-- <remap from="/imu/data" to="/from_trenz/imu/raw"/> $(arg args)  -->
  </node> 

</launch>
